<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CVSort</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.10.377/pdf.min.js"></script>
  </head>
  <body>
    <div class="left-side scrollbar scrollbar-near-moon">
      <div class="container">
        <div class="container">
          <div class="row justify-content-center">
            <section class="w-50 shadow">
              <h1 class="text-center">Upload PDFs</h1>
              <!-- <p class="text-center">
                When the user submits the file upload form, it checks if any
                files are selected, creates a FormData object, appends the files
                to it, and sends the files to the server. If the files are
                uploaded successfully, it shows a success alert, otherwise an
                error alert.
              </p> -->
              <form id="uploadForm">
                <div class="form-group">
                  <input
                    type="file"
                    class="form-control-file"
                    id="fileInput"
                    multiple
                  />
                </div>
                <button type="submit" class="btn btn-primary btn-block">
                  Upload
                </button>
              </form>
            </section>
          </div>
        </div>

        <div class="container">
          <div class="row justify-content-center">
            <section class="shadow">
              <h3 class="text-center">
                Convert to Raw Text & Extracts Summarized Info
              </h3>
              <!-- <p class="text-center">
                When clicked, it clears the existing PDF containers and calls
                the convertUploadedFiles() function, which fetches the list of
                uploaded files from the server, converts PDFs to text, and
                displays the raw text on the page. It also checks if the text
                already exists in the database, and if not, it calls the
                CVSummarize API to process the text and save it to the database.
              </p> -->
              <button id="convertBtn" class="btn btn-primary btn-block mt-2">
                Process
              </button>
            </section>
          </div>
        </div>
        <div class="container">
          <div class="row justify-content-center">
            <section class="shadow">
              <h3 class="text-center">Displays Summarized User Information</h3>
              <!-- <p class="text-center">
                When clicked, it clears the existing user containers and calls
                the displayUserSummary() function, which fetches the users from
                the database and displays their summary on the page.
              </p> -->
              <button id="parseBtn" class="btn btn-primary btn-block mt-2">
                Process
              </button>
            </section>
          </div>
        </div>
        <div
          class="d-flex flex-wrap justify-content-center flexbox-container"
        ></div>
        <div class="container">
          <div class="row justify-content-center">
            <section class="w-50 shadow">
              <h3 class="text-center mb-4">Select Filters</h3>
              <!-- <p class="text-center">
                The filter section contains checkboxes that allow users to
                select different filters for analyzing the uploaded resumes.
                When the "Analyze" button is clicked, it triggers the
                runRedFlag() function.
              </p> -->
              <form id="filterForm">
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="1"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label"> Sloppy Formatting </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="2"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label">
                      Lack of achievements
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="3"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label">
                      Unexplained gaps in employment
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="4"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label"> Job hopping </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="5"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label">
                      Excessive grammar, spelling, and punctuation mistakes
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="6"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label">
                      Usage of swear words
                    </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="7"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label"> Stagnant career </label>
                  </div>
                </div>
                <div class="form-group">
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value="8"
                      onchange="getSelectedFilters()"
                      checked
                    />
                    <label class="form-check-label">
                      Multiple career changes
                    </label>
                  </div>
                </div>

                <button
                  type="button"
                  class="btn btn-primary btn-block"
                  onclick="getSelectedFilters()"
                >
                  Submit
                </button>
              </form>
              <div id="selectedFilters"></div>
            </section>
          </div>
        </div>
        <div class="container">
          <div class="row justify-content-center">
            <section class="shadow">
              <h3 class="text-center">Red Flag Analysis</h3>
              <!-- <p class="text-center">
                When clicked, it checks if there are any texts to analyze. If
                so, it calls the runRedFlag() function, which fetches the red
                flag analysis for each user based on the selected filters and
                displays the results on the page.
              </p> -->
              <button id="analyzeBtn" class="btn btn-primary btn-block mt-2">
                Analyze
              </button>
            </section>
          </div>
        </div>
        <div class="container">
          <div class="row justify-content-center">
            <section class="shadow">
              <h3 class="text-center">Red Flagged Remover</h3>
              <button id="rfRemoveBtn" class="btn btn-primary btn-block mt-2">
                Remove
              </button>
            </section>
          </div>
        </div>
        <div
          class="d-flex flex-wrap justify-content-center flexbox-container"
          id="applicant-container"
        ></div>
        <div class="container">
          <div class="row justify-content-center">
            <section class="w-50 shadow">
              <h3 class="text-center mb-4">Skill Filter</h3>
              <div class="skill-filter-form">
                <input
                  type="text"
                  id="skillSearch"
                  class="form-control"
                  placeholder="Search for a skill"
                  onkeyup="filterSkills()"
                />
                <div
                  id="skillFilterForm"
                  class="skill-filter-container scrollbar scrollbar-near-moon"
                ></div>
              </div>
            </section>
          </div>
        </div>
        <!-- Education filter form -->
        <div class="container">
          <div class="row justify-content-center">
            <section class="w-50 shadow">
              <h3 class="text-center mb-4">Education Filter</h3>
              <div class="skill-filter-form">
                <input
                  type="text"
                  id="skillSearch"
                  class="form-control"
                  placeholder="Search for education"
                  onkeyup="filterSkills()"
                />
                <div
                  id="educationFilterForm"
                  class="skill-filter-container scrollbar scrollbar-near-moon"
                ></div>
              </div>
            </section>
          </div>
        </div>
        <!-- Experience filter form -->
        <div class="container">
          <div class="row justify-content-center">
            <section class="w-50 shadow">
              <h3 class="text-center mb-4">Experience Filter</h3>
              <div class="skill-filter-form">
                <input
                  type="text"
                  id="skillSearch"
                  class="form-control"
                  placeholder="Search for experience"
                  onkeyup="filterSkills()"
                />
                <div
                  id="experienceFilterForm"
                  class="skill-filter-container scrollbar scrollbar-near-moon"
                ></div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
    <!-- RIGHT SIDE ----------------------------------------------------------->
    <!-- RIGHT SIDE ----------------------------------------------------------->
    <!-- RIGHT SIDE ----------------------------------------------------------->
    <div class="right-side scrollbar scrollbar-near-moon">
      <div class="container" style="margin: 0%; min-width: 100%">
        <div
          class="d-flex flex-wrap justify-content-center flexbox-container"
          id="userContainers"
        ></div>
        <div id="pdfContainers"></div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
